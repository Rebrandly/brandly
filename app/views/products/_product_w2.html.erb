<div class="product">
  <div class="product-image-container">
    <%= image_tag product.image, class: 'product-image' %>
    <!-- 'data-toggle': 'modal', 'data-target': '#product-modal', :remote => true -->
    <%= link_to product_path(product), :class => 'product-overlay' do %>
    <div class="card-hover">
    </div>
    <% end %>
    <div class="social">
      <span id="product-<%= product.id %>" class="vote">
        <% if product.liked_by.include?(current_user) %>
          <%= render :partial => "products/downvote", locals: { product: product }%>
        <% else %>
        <%= render :partial => "products/upvote", locals: { product: product } %>
        <% end %>
      </span>
    </div>
    <div class="liked-users" id="liked-users-<%=product.id %>">

    <% product.liked_by.limit(5).each do |user| %>
      <%= link_to user_path(user.try(:username)) do %>
        <%= image_tag user.try(:avatar).url(:thumb), class: 'liked-user-image' %>
      <% end %>
    <% end %>
  </div>

  </div>
  <div class="product-details">
      <h5 class="product-heading"><%= truncate(product.title, length: 20) %></h5>
    <ul class="meta">
      <li><svg class="nc-icon outline" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="18px" height="18px" viewBox="0 0 24 24"> <g> <polyline data-cap="butt" data-color="color-2" fill="none" stroke="#888888" stroke-width="2" stroke-miterlimit="10" points="9.9,17 5,17 2,23 22,23 19,17 14.1,17 " stroke-linejoin="round" stroke-linecap="round"></polyline> <path fill="none" stroke="#888888" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M19,8c0,4.3-7,11.4-7,11.4 S5,12.3,5,8c0-4.4,3.6-7,7-7S19,3.6,19,8z" stroke-linejoin="round"></path> <circle fill="none" stroke="#888888" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" cx="12" cy="8" r="2" stroke-linejoin="round"></circle> </g></svg>Korea </li>
      <li><svg class="nc-icon outline" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24"><g transform="translate(0, 0)"> <path fill="none" stroke="#888888" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M2,12c0,0,4-6,10-6 c6,0,10,6,10,6s-4,6-10,6C6,18,2,12,2,12z" stroke-linejoin="round"></path> <circle fill="none" stroke="#888888" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" cx="12" cy="10" r="4" stroke-linejoin="round"></circle> </g></svg>100</li>
      <li><svg class="nc-icon outline" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="18px" height="18px" viewBox="0 0 24 24"> <polygon fill="none" stroke="#888888" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" points="20,22 12,17 4,22 4,1 20,1 " transform="translate(0, 0)" stroke-linejoin="round"></polygon> </svg> <%=  link_to product.shop.name, shop_path(product.shop) %></li>
    </ul>
  </div>
</div>
