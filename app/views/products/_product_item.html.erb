<div class="col-sm-6 col-md-4 col-lg-3">
  <div class="product">
    <div class="hover-container">
      <%= image_tag product.image, class: 'product-image' %>
      <a class="product-overlay" href="#"></a>
      <span id="product-<%= product.id %>" class="vote">
        <% if product.upvotes.map(&:user_id).include?(current_user.try(:id)) %>
          <%= render :partial => "products/downvote", locals: { product: product }%>
        <% else %>
        <%= render :partial => "products/upvote", locals: { product: product } %>
        <% end %>
      </span>
  </div>
  <div class="social">
    <h5><%= product.title %> in <%= link_to product.categories.first.try(:title) %></h5>
    <span><%= product.upvotes.count %></span>
  <% product.upvotes.each do |upvote| %>
    <%= image_tag upvote.user.try(:profile).try(:profile_image), :class => "product-profile-image"%>
  <% end %>
  </div>
</div>
</div>
